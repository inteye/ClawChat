# ClawChat - è‡ªç”±è¿æ¥ä½ çš„ OpenClaw Gateway

<div align="center">

![Flutter](https://img.shields.io/badge/Flutter-3.0+-blue.svg)
![Dart](https://img.shields.io/badge/Dart-3.0+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-iOS%20%7C%20Android%20%7C%20macOS-lightgrey.svg)

**æ‘†è„± IM å¹³å°é™åˆ¶ï¼Œè‡ªç”±è¿æ¥ä½ çš„ AI æœåŠ¡**

ä¸€ä¸ªä¼˜é›…çš„è·¨å¹³å° Flutter åº”ç”¨ï¼Œè®©ä½ å®Œå…¨æŒæ§è‡ªå·±çš„ OpenClaw Gateway è¿æ¥ã€‚

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [è¿æ¥æ–¹å¼](#è¿æ¥æ–¹å¼) â€¢ [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)

</div>

---

## ğŸ’¡ é¡¹ç›®åˆè¡·

åœ¨å½“ä»Šçš„ AI æ—¶ä»£ï¼Œæˆ‘ä»¬å¸¸å¸¸å—é™äºå„ç§ IM å¹³å°çš„å°é—­ç”Ÿæ€ï¼š
- ğŸš« **å¹³å°é™åˆ¶** - æ— æ³•è‡ªç”±é€‰æ‹© AI æœåŠ¡
- ğŸš« **æ•°æ®éšç§** - å¯¹è¯æ•°æ®å­˜å‚¨åœ¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨
- ğŸš« **åŠŸèƒ½å—é™** - å—é™äºå¹³å°æä¾›çš„åŠŸèƒ½
- ğŸš« **ç½‘ç»œä¾èµ–** - ä¾èµ–ç‰¹å®šå¹³å°çš„ç½‘ç»œç¯å¢ƒ

**ClawChat çš„ä½¿å‘½**ï¼šè®©ä½ å®Œå…¨æŒæ§è‡ªå·±çš„ AI è¿æ¥ï¼Œäº«å—çœŸæ­£çš„è‡ªç”±ã€‚

### âœ¨ æ ¸å¿ƒä¼˜åŠ¿

- ğŸ”“ **å®Œå…¨è‡ªä¸»** - è¿æ¥ä½ è‡ªå·±éƒ¨ç½²çš„ OpenClaw Gateway
- ğŸ”’ **éšç§ä¼˜å…ˆ** - æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œå®Œå…¨æŒæ§
- ğŸŒ **çµæ´»è¿æ¥** - æ”¯æŒå¤šç§è¿æ¥æ–¹å¼ï¼ˆCloudflareã€Tailscaleã€ç›´è¿ï¼‰
- ğŸ“± **è·¨å¹³å°** - iOSã€Androidã€macOS ç»Ÿä¸€ä½“éªŒ
- ğŸ’¾ **ç¦»çº¿å¯ç”¨** - æœ¬åœ°æ¶ˆæ¯å­˜å‚¨ï¼Œéšæ—¶æŸ¥çœ‹å†å²è®°å½•
- ğŸ¨ **ç°ä»£è®¾è®¡** - Material Design 3ï¼Œæµç•…åŠ¨ç”»

---

## ğŸ“± åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°

- **ğŸ” å¤šæœåŠ¡ç®¡ç†**
  - æ”¯æŒæ·»åŠ å¤šä¸ª Gateway æœåŠ¡
  - å¿«é€Ÿåˆ‡æ¢ä¸åŒæœåŠ¡
  - ç‹¬ç«‹çš„ä¼šè¯å’Œæ¶ˆæ¯å†å²
  - æœåŠ¡é…ç½®æŒä¹…åŒ–

- **ğŸ’¬ å®æ—¶èŠå¤©**
  - WebSocket å®æ—¶é€šä¿¡
  - æµå¼æ¶ˆæ¯æ¥æ”¶ï¼ˆé€å­—æ˜¾ç¤ºï¼‰
  - æ¶ˆæ¯çŠ¶æ€è¿½è¸ªï¼ˆå‘é€ä¸­/å·²å‘é€/å¤±è´¥ï¼‰
  - æ¶ˆæ¯é‡å‘åŠŸèƒ½
  - æœ¬åœ°æ¶ˆæ¯å†å²è®°å½•
  - è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯

- **ğŸ¨ ç²¾ç¾ç•Œé¢**
  - Material Design 3
  - æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
  - æµç•…çš„åŠ¨ç”»æ•ˆæœ
  - å“åº”å¼å¸ƒå±€
  - ç°ä»£åŒ–çš„æ¶ˆæ¯æ°”æ³¡è®¾è®¡

- **ğŸ’¾ æœ¬åœ°å­˜å‚¨**
  - Hive æ•°æ®åº“
  - æ¶ˆæ¯æŒä¹…åŒ–
  - é…ç½®è‡ªåŠ¨ä¿å­˜
  - ç¦»çº¿æ¶ˆæ¯æŸ¥çœ‹
  - å¤šæœåŠ¡æ•°æ®éš”ç¦»

- **ğŸ”„ è¿æ¥ç®¡ç†**
  - è‡ªåŠ¨é‡è¿æœºåˆ¶
  - è¿æ¥çŠ¶æ€å®æ—¶æ˜¾ç¤º
  - Challenge-Response è®¤è¯
  - é”™è¯¯å¤„ç†ä¸è¯Šæ–­
  - ç½‘ç»œæƒé™è‡ªåŠ¨é…ç½®

- **ğŸ”§ å¼€å‘è€…å·¥å…·**
  - å‘½ä»¤è¡Œè¿æ¥æµ‹è¯•å·¥å…·
  - è‡ªåŠ¨åŒ–æµ‹è¯•å¥—ä»¶
  - ç½‘ç»œè¯Šæ–­å·¥å…·
  - è¯¦ç»†çš„é”™è¯¯è¯Šæ–­å’Œå»ºè®®
  - URL æ ¼å¼éªŒè¯

### ğŸš§ å¼€å‘ä¸­

- **ğŸ”” é€šçŸ¥ç³»ç»Ÿ**
  - æ–°æ¶ˆæ¯é€šçŸ¥
  - åå°æ¶ˆæ¯æ¥æ”¶
  - é€šçŸ¥è®¾ç½®

- **ğŸ¯ é«˜çº§åŠŸèƒ½**
  - æ¶ˆæ¯æœç´¢
  - å¯¼å‡ºèŠå¤©è®°å½•
  - è¯­éŸ³è¾“å…¥
  - å›¾ç‰‡å‘é€
  - Markdown æ¸²æŸ“å¢å¼º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Flutter SDK >= 3.0.0
- Dart SDK >= 3.0.0
- iOS 12.0+ / Android 5.0+

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/inteye/ClawChat.git
cd ClawChat
```

2. **å®‰è£…ä¾èµ–**
```bash
flutter pub get
```

3. **ç”Ÿæˆå¹³å°æ–‡ä»¶**
```bash
# ç”Ÿæˆæ‰€æœ‰å¹³å°çš„é¡¹ç›®æ–‡ä»¶
flutter create .

# ç”Ÿæˆä»£ç ï¼ˆHive é€‚é…å™¨ç­‰ï¼‰
flutter pub run build_runner build --delete-conflicting-outputs
```

> **æ³¨æ„**ï¼šæœ¬é¡¹ç›®ä¸åŒ…å«å¹³å°ç‰¹å®šæ–‡ä»¶ï¼ˆandroid/ã€ios/ã€macos/ ç­‰ï¼‰åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ã€‚
> è¿™äº›æ–‡ä»¶å¯ä»¥é€šè¿‡ `flutter create .` å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆã€‚
> è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [å¹³å°é…ç½®æŒ‡å—](docs/PLATFORM_SETUP.md)ã€‚

4. **é…ç½®åº”ç”¨å›¾æ ‡ï¼ˆå¯é€‰ï¼‰**
```bash
# é¡¹ç›®æä¾›äº† logo.pngï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒç”Ÿæˆå›¾æ ‡
# è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ docs/PLATFORM_SETUP.md
```

5. **è¿è¡Œåº”ç”¨**
```bash
# iOS
flutter run -d ios

# Android
flutter run -d android

# macOS
flutter run -d macos

# æ¨¡æ‹Ÿå™¨
flutter run
```

## ğŸŒ è¿æ¥æ–¹å¼

### æ¨èï¼šCloudflare Tunnelï¼ˆæœ€ç®€å•ï¼‰

ä½¿ç”¨ Cloudflare Tunnel å¯ä»¥è½»æ¾å°†ä½ çš„æœ¬åœ° Gateway æš´éœ²åˆ°å…¬ç½‘ï¼Œæ— éœ€å…¬ç½‘ IPï¼Œæ— éœ€é…ç½®è·¯ç”±å™¨ã€‚

#### 1. å®‰è£… Cloudflare Tunnel

```bash
# macOS
brew install cloudflare/cloudflare/cloudflared

# Linux
wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64.deb
sudo dpkg -i cloudflared-linux-amd64.deb

# Windows
# ä¸‹è½½ https://github.com/cloudflare/cloudflared/releases
```

#### 2. å¯åŠ¨ä¸´æ—¶éš§é“ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

```bash
# å‡è®¾ä½ çš„ Gateway è¿è¡Œåœ¨ localhost:18789
cloudflared tunnel --url http://localhost:18789

# è¾“å‡ºç¤ºä¾‹ï¼š
# Your quick Tunnel has been created! Visit it at:
# https://random-name.trycloudflare.com
```

#### 3. åœ¨ ClawChat ä¸­é…ç½®

- **Gateway URL**: `https://random-name.trycloudflare.com`
- **Token**: ä½ çš„ Gateway token
- ç‚¹å‡»"éªŒè¯ URL æ ¼å¼"æµ‹è¯•è¿æ¥

#### 4. åˆ›å»ºæ°¸ä¹…éš§é“ï¼ˆæ¨èç”Ÿäº§ä½¿ç”¨ï¼‰

```bash
# ç™»å½• Cloudflare
cloudflared tunnel login

# åˆ›å»ºéš§é“
cloudflared tunnel create my-gateway

# é…ç½®éš§é“
cat > ~/.cloudflared/config.yml << EOF
tunnel: <tunnel-id>
credentials-file: /path/to/<tunnel-id>.json

ingress:
  - hostname: gateway.yourdomain.com
    service: http://localhost:18789
  - service: http_status:404
EOF

# æ·»åŠ  DNS è®°å½•
cloudflared tunnel route dns my-gateway gateway.yourdomain.com

# è¿è¡Œéš§é“
cloudflared tunnel run my-gateway
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ— éœ€å…¬ç½‘ IP
- âœ… è‡ªåŠ¨ HTTPS åŠ å¯†
- âœ… å…¨çƒ CDN åŠ é€Ÿ
- âœ… å…è´¹ä½¿ç”¨
- âœ… é…ç½®ç®€å•

---

### æ–¹æ¡ˆ 2: Tailscaleï¼ˆç§æœ‰ç½‘ç»œï¼‰

é€‚åˆä¸ªäººä½¿ç”¨ï¼Œæä¾›å®‰å…¨çš„ç‚¹å¯¹ç‚¹è¿æ¥ã€‚

**Tailscale Serveï¼ˆä»… Tailnet å†…ï¼‰**
```bash
# åœ¨ Gateway æœåŠ¡å™¨ä¸Š
tailscale serve https / http://localhost:18789
```

- **URL**: `https://your-machine.tailnet-name.ts.net`
- **Token**: å¯é€‰

**Tailscale Funnelï¼ˆå…¬å…±è®¿é—®ï¼‰**
```bash
tailscale funnel 18789
```

- **URL**: `https://your-machine.tailnet-name.ts.net`
- **Token**: å¿…å¡«

ğŸ“– è¯¦ç»†æŒ‡å—ï¼š[Tailscale è¿æ¥æŒ‡å—](docs/TAILSCALE_SETUP_GUIDE.md)

---

### æ–¹æ¡ˆ 3: ç›´æ¥è¿æ¥

å¦‚æœä½ æœ‰å…¬ç½‘ IP æˆ–åœ¨åŒä¸€å±€åŸŸç½‘å†…ï¼š

- **å…¬ç½‘**: `wss://your-domain.com:18789` æˆ– `https://your-domain.com`
- **å±€åŸŸç½‘**: `ws://192.168.x.x:18789`
- **Token**: ä½ çš„ Gateway token

âš ï¸ **æ³¨æ„**ï¼š
- iOS/macOS éœ€è¦é…ç½®ç½‘ç»œæƒé™ï¼ˆå·²åœ¨é¡¹ç›®ä¸­é…ç½®ï¼‰
- å»ºè®®ä½¿ç”¨ HTTPS/WSS åŠ å¯†è¿æ¥
- å±€åŸŸç½‘è¿æ¥éœ€è¦åœ¨åŒä¸€ç½‘ç»œä¸‹

---

### ğŸ§ª æµ‹è¯•è¿æ¥

ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¿«é€Ÿæµ‹è¯• WebSocket è¿æ¥ï¼š

```bash
# è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•
flutter test test/protocol_parser_test.dart
```

**è¯¦ç»†æ–‡æ¡£**: 
- ğŸ“– [è¿æ¥æµ‹è¯•æŒ‡å—](docs/CONNECTION_TEST_GUIDE.md)
- ğŸ“– [å¹³å°é…ç½®æŒ‡å—](docs/PLATFORM_SETUP.md)
- ğŸ“– [iOS ç½‘ç»œæƒé™](docs/IOS_NETWORK_PERMISSIONS.md)
- ğŸ“– [macOS ç½‘ç»œæƒé™](docs/MACOS_NETWORK_PERMISSIONS.md)

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ config.dart           # é…ç½®æ¨¡å‹
â”‚   â”œâ”€â”€ message.dart          # æ¶ˆæ¯æ¨¡å‹
â”‚   â””â”€â”€ connection_state.dart # è¿æ¥çŠ¶æ€æ¨¡å‹
â”‚
â”œâ”€â”€ services/            # ä¸šåŠ¡æœåŠ¡
â”‚   â”œâ”€â”€ websocket_service.dart  # WebSocket é€šä¿¡
â”‚   â”œâ”€â”€ storage_service.dart    # æœ¬åœ°å­˜å‚¨
â”‚   â””â”€â”€ protocol_parser.dart    # åè®®è§£æ
â”‚
â”œâ”€â”€ providers/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ config_provider.dart      # é…ç½®çŠ¶æ€
â”‚   â”œâ”€â”€ connection_provider.dart  # è¿æ¥çŠ¶æ€
â”‚   â”œâ”€â”€ messages_provider.dart    # æ¶ˆæ¯çŠ¶æ€
â”‚   â””â”€â”€ theme_provider.dart       # ä¸»é¢˜çŠ¶æ€
â”‚
â”œâ”€â”€ screens/             # é¡µé¢
â”‚   â”œâ”€â”€ splash_screen.dart    # å¯åŠ¨é¡µ
â”‚   â”œâ”€â”€ settings_screen.dart  # è®¾ç½®é¡µ
â”‚   â””â”€â”€ chat_screen.dart      # èŠå¤©é¡µ
â”‚
â”œâ”€â”€ widgets/             # ç»„ä»¶
â”‚   â”œâ”€â”€ message_bubble.dart        # æ¶ˆæ¯æ°”æ³¡
â”‚   â”œâ”€â”€ message_input.dart         # è¾“å…¥æ¡†
â”‚   â””â”€â”€ connection_indicator.dart  # è¿æ¥æŒ‡ç¤ºå™¨
â”‚
â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â”œâ”€â”€ constants.dart           # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ validators.dart          # éªŒè¯å·¥å…·
â”‚   â”œâ”€â”€ network_checker.dart     # ç½‘ç»œæ£€æŸ¥
â”‚   â””â”€â”€ connection_diagnostics.dart  # è¿æ¥è¯Šæ–­
â”‚
â””â”€â”€ main.dart            # åº”ç”¨å…¥å£

bin/
â””â”€â”€ test_connection.dart # è¿æ¥æµ‹è¯•å·¥å…·

test/
â””â”€â”€ websocket_connection_test.dart  # è‡ªåŠ¨åŒ–æµ‹è¯•

docs/
â”œâ”€â”€ CONNECTION_TEST_GUIDE.md    # è¿æ¥æµ‹è¯•æŒ‡å—
â”œâ”€â”€ QUICK_REFERENCE.md          # å¿«é€Ÿå‚è€ƒ
â””â”€â”€ TESTING_TOOLS_SUMMARY.md    # æµ‹è¯•å·¥å…·æ€»ç»“
```

### æŠ€æœ¯æ ˆ

- **çŠ¶æ€ç®¡ç†**: Riverpod 2.x
- **æœ¬åœ°å­˜å‚¨**: Hive 2.x
- **ç½‘ç»œé€šä¿¡**: web_socket_channel
- **UI æ¡†æ¶**: Flutter Material 3

### æ ¸å¿ƒæµç¨‹

```
ç”¨æˆ·è¾“å…¥æ¶ˆæ¯
    â†“
MessagesProvider.sendMessage()
    â†“
WebSocketService.send()
    â†“
Gateway å¤„ç†
    â†“
WebSocketService.messageStream
    â†“
MessagesProvider._handleIncomingMessage()
    â†“
UI æ›´æ–°æ˜¾ç¤º
```

---

## ğŸ“‹ å¼€å‘è·¯çº¿

### âœ… Milestone 1: åŸºç¡€æ¶æ„ (å·²å®Œæˆ)
- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] æ•°æ®æ¨¡å‹å®šä¹‰
- [x] æ ¸å¿ƒæœåŠ¡å®ç°
- [x] çŠ¶æ€ç®¡ç†æ­å»º
- [x] è·¨å¹³å°æ”¯æŒï¼ˆiOSã€Androidã€macOSï¼‰

### âœ… Milestone 2: UI ç•Œé¢ (å·²å®Œæˆ)
- [x] å¯åŠ¨é¡µï¼ˆå¸¦åŠ¨ç”»å’Œæ–° logoï¼‰
- [x] è®¾ç½®é¡µï¼ˆå¤šæœåŠ¡ç®¡ç†ï¼‰
- [x] èŠå¤©é¡µï¼ˆæµå¼æ¶ˆæ¯æ˜¾ç¤ºï¼‰
- [x] é€šç”¨ç»„ä»¶ï¼ˆæ¶ˆæ¯æ°”æ³¡ã€è¾“å…¥æ¡†ã€è¿æ¥æŒ‡ç¤ºå™¨ï¼‰
- [x] Material Design 3 ä¸»é¢˜

### âœ… Milestone 3: æ ¸å¿ƒåŠŸèƒ½ (å·²å®Œæˆ)
- [x] WebSocket è¿æ¥ï¼ˆChallenge-Response è®¤è¯ï¼‰
- [x] æ¶ˆæ¯æ”¶å‘ï¼ˆæµå¼æ¶ˆæ¯æ”¯æŒï¼‰
- [x] å¤šæœåŠ¡ç®¡ç†ï¼ˆæ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ã€åˆ‡æ¢ï¼‰
- [x] æœ¬åœ°å­˜å‚¨ï¼ˆHive æ•°æ®åº“ï¼‰
- [x] æ¶ˆæ¯æ’åºå’ŒæŒä¹…åŒ–
- [x] è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°æ¶ˆæ¯

### âœ… Milestone 4: ç½‘ç»œå’Œæƒé™ (å·²å®Œæˆ)
- [x] iOS ç½‘ç»œæƒé™é…ç½®
- [x] macOS ç½‘ç»œæƒé™é…ç½®ï¼ˆApp Sandboxï¼‰
- [x] Android ç½‘ç»œæƒé™é…ç½®
- [x] Cloudflare Tunnel æ”¯æŒ
- [x] Tailscale æ”¯æŒ
- [x] è¿æ¥è¯Šæ–­å·¥å…·

### âœ… Milestone 5: æµ‹è¯•å’Œæ–‡æ¡£ (å·²å®Œæˆ)
- [x] å•å…ƒæµ‹è¯•ï¼ˆåè®®è§£æå™¨ï¼‰
- [x] é›†æˆæµ‹è¯•ï¼ˆWebSocket è¿æ¥ï¼‰
- [x] å‘½ä»¤è¡Œæµ‹è¯•å·¥å…·
- [x] å®Œæ•´çš„æ–‡æ¡£ä½“ç³»
- [x] å¹³å°é…ç½®æŒ‡å—

### ğŸš§ Milestone 6: é«˜çº§åŠŸèƒ½ (è¿›è¡Œä¸­)
- [ ] æ¶ˆæ¯æœç´¢
- [ ] å¯¼å‡ºèŠå¤©è®°å½•
- [ ] é€šçŸ¥ç³»ç»Ÿ
- [ ] è¯­éŸ³è¾“å…¥
- [ ] å›¾ç‰‡å‘é€
- [ ] Markdown æ¸²æŸ“å¢å¼º

### ğŸ“… Milestone 7: å‘å¸ƒå‡†å¤‡ (è®¡åˆ’ä¸­)
- [x] åº”ç”¨å›¾æ ‡ï¼ˆå·²å®Œæˆï¼‰
- [x] å¯åŠ¨ç”»é¢ï¼ˆå·²å®Œæˆï¼‰
- [ ] åº”ç”¨ç­¾å
- [ ] å•†åº—å‘å¸ƒï¼ˆApp Storeã€Google Playï¼‰
- [ ] æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²

---

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®æ¶æ„

ClawChat é‡‡ç”¨æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼š

- **Models** - æ•°æ®æ¨¡å‹å’Œä¸šåŠ¡å®ä½“
- **Services** - ä¸šåŠ¡é€»è¾‘å’Œå¤–éƒ¨æœåŠ¡ï¼ˆWebSocketã€å­˜å‚¨ï¼‰
- **Providers** - çŠ¶æ€ç®¡ç†ï¼ˆRiverpodï¼‰
- **Screens** - å®Œæ•´é¡µé¢
- **Widgets** - å¯å¤ç”¨ç»„ä»¶
- **Utils** - å·¥å…·ç±»å’Œè¾…åŠ©å‡½æ•°

### æ·»åŠ æ–°åŠŸèƒ½

1. **å®šä¹‰æ•°æ®æ¨¡å‹** (`lib/models/`)
2. **å®ç°ä¸šåŠ¡æœåŠ¡** (`lib/services/`)
3. **åˆ›å»ºçŠ¶æ€ç®¡ç†** (`lib/providers/`)
4. **æ„å»º UI ç•Œé¢** (`lib/screens/` æˆ– `lib/widgets/`)
5. **ç¼–å†™æµ‹è¯•** (`test/`)

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ `dart format` æ ¼å¼åŒ–ä»£ç 
- éµå¾ª [Effective Dart](https://dart.dev/guides/language/effective-dart) æŒ‡å—
- ä¸ºå…¬å…± API æ·»åŠ æ–‡æ¡£æ³¨é‡Š
- ä¿æŒå•ä¸€èŒè´£åŸåˆ™
- è¯¦ç»†è§„èŒƒè¯·æŸ¥çœ‹ [AGENTS.md](AGENTS.md)

### è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹æ—¥å¿—
flutter logs

# çƒ­é‡è½½
r

# çƒ­é‡å¯
R

# æ€§èƒ½åˆ†æ
flutter run --profile

# è¯¦ç»†è¾“å‡º
flutter run -d macos --verbose
```

### å¸¸è§é—®é¢˜

#### iOS/macOS è¿æ¥å¤±è´¥ï¼ˆOperation not permittedï¼‰

**åŸå› **ï¼šç¼ºå°‘ç½‘ç»œæƒé™é…ç½®

**è§£å†³**ï¼š
- iOS: æŸ¥çœ‹ [iOS ç½‘ç»œæƒé™é…ç½®](docs/IOS_NETWORK_PERMISSIONS.md)
- macOS: æŸ¥çœ‹ [macOS ç½‘ç»œæƒé™é…ç½®](docs/MACOS_NETWORK_PERMISSIONS.md)

#### æ¶ˆæ¯æ˜¾ç¤ºé‡å¤

**åŸå› **ï¼šåè®®è§£æé”™è¯¯

**è§£å†³**ï¼šå·²åœ¨æœ€æ–°ç‰ˆæœ¬ä¿®å¤ï¼Œä½¿ç”¨ `delta` å¢é‡å†…å®¹è€Œä¸æ˜¯ `text` å®Œæ•´å†…å®¹

#### åº”ç”¨å›¾æ ‡ä¸æ˜¾ç¤º

**åŸå› **ï¼šéœ€è¦é‡æ–°æ„å»ºåº”ç”¨

**è§£å†³**ï¼š
```bash
flutter clean
flutter pub get
flutter run -d <platform>
```

---

## ğŸ“ åè®®è¯´æ˜

### OpenClaw Gateway åè®®

ClawChat ä½¿ç”¨ OpenClaw Gateway çš„ WebSocket åè®®è¿›è¡Œé€šä¿¡ï¼š

**è¿æ¥è®¤è¯**
```json
{
  "type": "auth",
  "password": "your-password"
}
```

**å‘é€æ¶ˆæ¯**
```json
{
  "type": "message",
  "content": "Hello, OpenClaw!",
  "agentId": "optional-agent-id"
}
```

**æ¥æ”¶æ¶ˆæ¯**
```json
{
  "type": "message",
  "content": "Response from AI",
  "messageId": "unique-id",
  "isComplete": true
}
```

**æµå¼æ¶ˆæ¯**
```json
{
  "type": "stream",
  "content": "Partial response...",
  "messageId": "unique-id",
  "isComplete": false
}
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ™ è‡´è°¢

- [Flutter](https://flutter.dev/) - è·¨å¹³å° UI æ¡†æ¶
- [Riverpod](https://riverpod.dev/) - çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆ
- [Hive](https://docs.hivedb.dev/) - è½»é‡çº§æœ¬åœ°æ•°æ®åº“
- [OpenClaw](https://github.com/openclaw) - AI Gateway å¹³å°

---

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [https://github.com/inteye/ClawChat](https://github.com/inteye/ClawChat)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/inteye/ClawChat/issues)
- è®¨è®ºäº¤æµ: [Discussions](https://github.com/inteye/ClawChat/discussions)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼â­**

Made with â¤ï¸ by ClawChat Team

</div>
